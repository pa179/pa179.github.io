<html>
	<head>
		<meta name="apple-mobile-web-app-capable" content="yes">
		<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no" />
		<title>Wasserwaage</title>
	</head>
	<body>
		<a id="x">-</a><br>
		<a id="y">-</a><br>
		<a id="z">-</a><br>
		
		<a id="bx">-</a><br>
		<a id="by">-</a><br>
		
		
		<div id="circle" style="width: 50px; height: 50px; border-radius: 25px; background-color: blue; position: absolute; border: 1px transparent solid;"></div>
		
		<div id="marker1" style="width: 50px; height: 50px; border-radius: 25px; position: absolute; border: 1px black solid;"></div>
		<div id="marker2" style="width: 150px; height: 150px; border-radius: 75px; position: absolute; border: 1px black solid;"></div>
		
		<script>
			var radius = 25;
			window.onload = function () {			
				document.getElementById("marker1").style.left = screen.width/2 - 25;
				document.getElementById("marker1").style.top = screen.height/2 - 25;
				document.getElementById("marker2").style.left = screen.width/2 - 75;
				document.getElementById("marker2").style.top = screen.height/2 - 75;
			}

			
			
			if (window.DeviceOrientationEvent) {
				window.addEventListener("devicemotion", function(event) {
					var x = event.accelerationIncludingGravity.x.toFixed(1);
					var y = event.accelerationIncludingGravity.y.toFixed(1);
					var z = event.accelerationIncludingGravity.z.toFixed(1);
					document.getElementById("z").innerHTML = z;
					document.getElementById("x").innerHTML = (Math.atan(x/z)*180/Math.PI).toFixed(1) + "°";
					document.getElementById("y").innerHTML = (Math.atan(y/z)*180/Math.PI).toFixed(1) + "°";
					
					setBall(x, y);
				}, true);
			}
			
			function setBall(x, y) {
				var ball = document.getElementById("circle")
				
				var xCoord = screen.width/2 - radius + x*50;
				var yCoord = screen.height/2 - radius + y*50;
				
				if (xCoord < 0)
					xCoord = 0;
				if (xCoord > screen.width-2*radius)
					xCoord = screen.width-2*radius;
				if (yCoord < 0)
					yCoord = 0;
				if (yCoord > screen.height-2*radius)
					yCoord = screen.height-2*radius;
					
				document.getElementById("bx").innerHTML = xCoord;
				document.getElementById("by").innerHTML = yCoord;
				
				
				ball.style.left = xCoord;
				ball.style.top = yCoord;
				
			}
		</script>
	</body>
</html>